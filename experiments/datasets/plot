#!/bin/env python2.7

"""
Plots the data generated by the experiment.
"""
from __future__ import print_function
from __future__ import unicode_literals
from __future__ import absolute_import
from __future__ import division

# Set import path
from os import path
import sys
sys.path.append(path.dirname(path.realpath(path.join(__file__, '../..'))))


# Imports
import numpy as np
import tools.plotter as plotter

def read_values(f):
    budget = []
    sse = []
    with f as error_file:
        for line in error_file:
            b, s = [int(a) for a in line.strip().split(',')]
            budget.append(b)
            sse.append(s)
    return [budget, sse]

def parse_arguments():
    import argparse

    parser = argparse.ArgumentParser(
        description="Plots the given CSV files."
        )
    parser.add_argument("slice_tree", type=argparse.FileType("r"),
        help="Slice Tree SSE")
    parser.add_argument("fourier", type=argparse.FileType("r"),
        help="Fourier SSE")
    parser.add_argument("plot", default="plot.png", help="Output plot.")

    return parser.parse_args()

if __name__ == "__main__":

    args = parse_arguments()

    slice_tree = read_values(args.slice_tree)
    fourier = read_values(args.fourier)

    plotter.scatter_plot(
        [
            slice_tree,
            fourier
        ],
        "Budget (Bytes)", "Error", ["Slice Tree", "Fourier"],
        "Accuracy (Smooth Synthetic Network)", f=args.plot
        )

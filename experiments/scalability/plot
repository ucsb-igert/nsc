#!/bin/env python2.7

"""
Plots the data generated by the experiment.
"""
from __future__ import print_function, unicode_literals, absolute_import, division

# Set import path
from os import path
import sys
sys.path.append(path.dirname(path.realpath(path.join(__file__, '../..'))))


# Imports
import numpy as np
import tools.plotter as plotter

def read_values(f):
    nodes = []
    time = []
    with f as error_file:
        for line in error_file:
            b, t = line.strip().split(',')
            nodes.append(int(b)
            time.append(float(t))
    return [nodes, time]

def parse_arguments():
    import argparse

    parser = argparse.ArgumentParser(
        description="Plots the given CSV files."
        )
    parser.add_argument("slice_tree", type=argparse.FileType("r"),
        help="Slice Tree times per number of nodes.")
    parser.add_argument("fourier", type=argparse.FileType("r"),
        help="Fourier times per number of nodes.")
    parser.add_argument("plot", default="plot.png", help="Output plot.")

    return parser.parse_args()

if __name__ == "__main__":

    args = parse_arguments()

    slice_tree = read_values(args.slice_tree)
    fourier = read_values(args.fourier)

    plotter.scatter_plot(
        [
            slice_tree,
            fourier
        ],
        "Number of Nodes", "Time (s)", ["Slice Tree", "Fourier"],
        "Scalability", f=args.plot
        )
